import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;


public class Sampling {
	private long[] sampling;
	
	/** The sampling rate. */
	private long samplingRate;
	
	private long length; //in ms
	
	
	public Sampling(File file, long len){
		this.length = len;
		
		//instantiate file reader
		Scanner reader = null;
		try {
			reader = new Scanner(file);
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		}
		
		//take in samples
		List<Long> sampleQueue = new ArrayList<Long>(3000);
		while(reader.hasNextLine()){
			sampleQueue.add(Long.parseLong(reader.nextLine()));
		}
		
		
		
		this.sampling = new long[sampleQueue.size()];
		for(int i = 0; i < sampleQueue.size(); i++){
			sampling[i] = sampleQueue.get(i);
		}
		sampleQueue = null;
		
		/*calculate sampling frequency (the 1000 is to convert correctly from milliseconds)*/
		this.samplingRate = (sampling.length / len) * 1000;
	}


	public long[] getSampling() {
		return sampling;
	}


	public double getSamplingRate() {
		return samplingRate;
	}


	public double getLength() {
		return length;
	}
	
	public String toString(){
		String output = "";
		for(int i = 0; i < sampling.length; i++){
			output += sampling[i] + "\n";
		}
		return output;
	}
	
	public static void main(String args[]){
		Sampling s = new Sampling(new File("data/laboratory.dat"),300);
		System.out.println(s);
	}
}
